function initializeLanguage () {	userLang = (navigator.language || navigator.userLanguage).toLowerCase().split("-")[0];	$('#select-language').val(userLang);	//alert ("The language is: " + userLang);}function loadLanguage (lang) {	// for each in loadPages	// load data/languages/[userLang]/[loadPages].lan	// using the id to load content	userLang = lang;	for (var page in loadPages) { if (loadPages[page]) {		jsonFileContent = [];		jsonFile.open("get", "data/languages/"+userLang+"/"+page+".lan",false);		jsonFile.send();		if (jsonFile.status != 200) {			// failed, load English by default			jsonFile.open("get", "data/languages/en/"+page+".lan",false);			jsonFile.send();		}		// replace the content		jsonFileContent = JSON.parse(jsonFile.responseText);		for (var tagId in jsonFileContent) {			document.getElementById(tagId).innerHTML = jsonFileContent[tagId];		}	}}}