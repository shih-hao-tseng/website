function initializeLanguage () {	userLang = (navigator.language || navigator.userLanguage).toLowerCase().split("-")[0];	$('#select-language').val(userLang);	if ($('#select-language option:selected').length == 0) {		// not a supported language		userLang = "en";		$('#select-language').val(userLang);	}}function loadLanguage (lang) {	// for each in loadPages	// load data/languages/[userLang]/[loadPages].lan	// using the id to load content	userLang = lang;	for (var page in loadPages) { if (loadPages[page]) {		jsonFileContent = [];		jsonFile.open("get", "data/languages/en/"+page+".lan",false);		jsonFile.send();		// fill the content with English first to prevent missing part		jsonFileContent = JSON.parse(jsonFile.responseText);		for (var className in jsonFileContent) {			$('.'+className).html(jsonFileContent[className]);			//document.getElementById(className).innerHTML = jsonFileContent[className];		}		jsonFile.open("get", "data/languages/"+userLang+"/"+page+".lan",false);		jsonFile.send();		if (jsonFile.status == 200) {			// success, replace the content			jsonFileContent = JSON.parse(jsonFile.responseText);			for (var className in jsonFileContent) {				$('.'+className).html(jsonFileContent[className]);				//document.getElementById(className).innerHTML = jsonFileContent[className];			}		}	}}}